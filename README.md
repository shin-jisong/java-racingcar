
# java-racingcar

자동차 경주 미션 저장소

## 기능 요구사항 
- 주어진 횟수동안 n대의 자동차는 전진 또는 멈출 수 있다.
- 각 자동차에 이름을 입력받는다.
    - 이름은 5자 이하만 가능하다.
- 횟수를 입력한다.
  - 음수 제외한 정수는 입력이 가능하다.
- 각 자동차는 정해진 횟수를 반복하는 동안 전진한다.
  - 전진하는 조건은 0에서 9 사이의 random 값을 구한 후 random 값이 4 이상일 경우 전진, 3 이하의 값이면 멈춘다.
- 경주 게임을 완료한 후 누가 우승했는지 알려준다.
  - 한명 이상이 가능하다

## 추가 정의 조건
- 입력된 자동차 이름과 전진 횟수가 유효하지 않은 경우, 예외 메시지 출력 후 다시 입력받는다.
- 이름은 1글자 이상으로 한다.
- 이름 중복을 허용한다.
- 이름에는 구분자를 사용할 수 없다.
- 모든 자동차의 전진 횟수가 0일 경우 공동 우승으로 출력한다.

## 기능 구현사항
### 별도의 의미가 없는 getter등은 생략
- Car
  - 차량 이름와 차량 위치를 갖는 클래스
  - `from()` : 문자열 형태의 차량 이름과 숫자 형태의 위치를 받아 자동차 객체를 생성하는 팩토리 메서
  - `move()` : randomNumber가 4 이상일 경우 위치를 1 증가시킴
  

- CarName
  - 생성자에서 입력된 이름 글자에 대한 유효성 검증
  

- CarLocation
  - 생성자에서 입력된 위치값에 대한 유효성 검증
  - `increaseLocation()`: 실행 시 위치를 1 증가시킨다
  

- Cars
  - 자동차 리스트의 일급 컬렉션
  - `moveAll()` : 자동차수 만큼의 랜덤 숫자 리스트를 받아, 자동차를 전진시킴
    - 입력된 숫자가 [1,2,3]이라면, 1은 컬렉션의 첫 번째 자동차, 2는 컬렉션의 두 번째 자동차를 움직일 때 사용.. 
  - `getMaxLocation()` : 자동차 중 가장 멀리 전진한 자동차의 위치를 반환
  - `getSize()` : 전체 자동차의 수를 반환
  - `getCarList()` : 자동차 리스트를 불변으로 반환
  

- RacingGame
  - 전반적인 게임 진행
  - 진행 과정
    1. 자동차 이름을 입력받고 검증한다.
    2. 자동차 이동 횟수를 입력받고 검증한다.
    3. 입력된 횟수만큼 전진시키며, 매 전진이 끝날 때 마다 현재 진행 상황을 출력한다.
    4. 경주가 끝나면, 우승자를 출력한다.


## 예외 처리 사항
- RacingGame
  - `retryInputOnException()`은, `receiveNames()`와 `receiveTrialCount()`를 Supplier 형태로 받아 예외 발생시 입력을 다시 받음
    - indent 조건이 1이기에, while을 이용한 처리가 아닌 재귀로 처리함
  - `receiveNames()`은 정규표현식을 이용하여 입력 형식에 대해 검증한 뒤, 각 차량의 이름 길이에 대해 다시 한번 검증함
  - `receiveTrialCount()`도 마찬가지로 정규식을 이용하여 숫자만 입력되었는지 검증함
    - 두 메서드 모두 `isInvalidFormat()` 을 이용함
  
- CarName
  - 생성자에서 검증하며, 이름의 길이가 0일 경우 혹은 5 초과일 경우 예외 발생
  
- CarLocation
  - 생성자에서 검증하며, 위치가 음수일 경우는 예외 발생


## 예외 발생시 콘솔 출력 예시

    경주할 자동차 이름을 입력하세요(이름은 쉼표(,)를 기준으로 구분).
    a,,b
    [ERROR] 입력 형식이 올바르지 않습니다.
    경주할 자동차 이름을 입력하세요(이름은 쉼표(,)를 기준으로 구분).
    a,abcdefg,h
    [ERROR] 입력 형식이 올바르지 않습니다.
    경주할 자동차 이름을 입력하세요(이름은 쉼표(,)를 기준으로 구분).
    a,b
    시도할 회수는 몇회인가요?
    -1
    [ERROR] 입력 형식이 올바르지 않습니다.
    시도할 회수는 몇회인가요?
    a
    [ERROR] 입력 형식이 올바르지 않습니다.
    시도할 회수는 몇회인가요?
    3
    
    실행 결과
    a : -
    b : -
    
    a : -
    b : --
    
    a : --
    b : ---
    
    b가 최종 우승했습니다.

## 우아한테크코스 코드리뷰
- [온라인 코드 리뷰 과정](https://github.com/woowacourse/woowacourse-docs/blob/master/maincourse/README.md)
